.sub-container
  =render 'header'
  .main_wrapper
    #new_item
      %main.main-block
        %section.main-block__container
          %h2.main-block__head.registration 商品の情報を入力
          = form_for @production, html: { class: 'sell_form', id: 'edit_prodcut', method: 'PATCH' } do |f|
            - if @production.errors.any?
              %ul
              - @production.errors.full_messages.each do |message|
                %li= message
            .sell_upload
              
              .form-group
                %label.main-block__label 出品画像
                %span.form-require.main-block__name 必須
                %br
                %p.sell_upload__text
                  最大10枚までアップロードできます

                = f.fields_for :images, @production.images.first do |image|
                  .sell_upload__box.clearfix
                    .sell-upload-items
                      %ul.none_item
                    .sell-upload-items2
                      %ul
                    .sell_upload__drop
                      = image.label :url, for: "add-image" do
                        .sell_upload__area
                          = image.file_field :url, type: "file", id: "add-image", class: "add-image"
                        .js-remove
                          %span 削除
                    %pre.visible-pc
                      ドラッグアンドドロップまたはクリックしてファイルをアップロード
                      

        .products_new-main__form--product_new
          = form_with model: @production, local: true do |f|
            .products_new-image-box
              - @production.images.each do |image|
                .preview-box
                  .upper-box
                    = image_tag image.src.url
                  .delete-box
                    .delete-btn
                      %div{"data-index": 0}
                      = f.file_field :src, class: "productions_new-js-file"
                    .js-remove
                      %span 削除
                
        .category-wrapper
          = form_with model: @production, local: true do |f|
            = f.label :category_id , class: 'wrapper__label category-wrapper-label', id: "wrapper__label--category" do
              カテゴリー：
              %span.required ※必須
              .category-wrapper-box
                .category-wrapper-select
                  .category-wrapper-select__box
                    = f.select :parent_name, @category_parent_array, {selected:@production.category.parent.parent.name}, { class: 'category-wrapper__category form-control', id: 'parent_category'}
                .category-wrapper-select#children_wrapper
                  .category-wrapper-select__box
                    = f.select :child_id, options_for_select(@category_children_array.map{|b| [b.name, b.id, {data:{category: b.id}}]}, {prompt: "指定なし", selected: @production.category.parent.id}),{}, {class: 'category-wrapper__category form-control', id: 'child_category'}
                .category-wrapper-select#grandchildren_wrapper
                  .category-wrapper-select__box
                    = f.select :category_id, options_for_select(@category_grandchildren_array.map{|b| [b.name, b.id, {data:{category: b.id}}]}, {prompt: "指定なし", selected: @production.category.id}),{}, {class: 'category-wrapper__category form-control', id: 'grandchild_category'}

            .products_new-product_explanation__select
              .products_new-product__headline
                .products_new-product__headline--title 商品のサイズ
                .products_new-product__headline--required 必須
              = f.select :size, [["XS"],["S"],["M"],["L"],["XL"],["2XL"]], prompt: "選択してください", class: "products_new-product_explanation__condition--box"

            .products_new-product_explanation__select
              .products_new-product__headline
                .products_new-product__headline--title 商品の状態
                .products_new-product__headline--required 必須
              = f.select :trading_status, [["新品、未使用"],["未使用に近い"],["目立った傷や汚れなし"],["やや傷や汚れあり"],["汚れや傷あり"],["全体的に状態が悪い"]], prompt: "選択してください", class: "products_new-product_explanation__condition--box"

            .products_new-product_delivery
              .products_new-product_delivery__headlinei 配送について
              
            .products_new-product_delivery__shipping_area
              .products_new-product__headline
                .products_new-product__headline--title 発送元の地域
                .products_new-product__headline--required 必須
              = f.select :prefecture_code, [["北海道"],["青森"],["岩手県"],["宮城県"],["秋田県"],["山形県"],["福島県"],["茨城県"],["栃木県"],["群馬県"],["埼玉県"],["千葉県"],["東京都"],["神奈川県"],["新潟県"],["富山県"],["石川県"],["福井県"],["山梨県"],["長野県"],["岐阜県"],["静岡県"],["愛知県"],["三重県"],["滋賀県"],["京都府"],["大阪府"],["兵庫県"],["奈良県"],["和歌山県"],["鳥取県"],["島根県"],["岡山県"],["広島県"],["山口県"],["徳島県"],["香川県"],["愛媛県"],["高知県"],["福岡県"],["佐賀県"],["長崎県"],["熊本県"],["大分県"],["宮崎県"],["鹿児島県"],["沖縄県"]], prompt: "選択してください", class: "products_new-product_price--box"

            .products_new-product_delivery__fee
              .products_new-product__headline
                .products_new-product__headline--title 配送料の負担
                .products_new-product__headline--required 必須
              = f.select :shipping_charge, [["送料込み(出品者負担)"],["着払い(購入者負担)"]], prompt: "選択してください", class: "products_new-product_delivery__fee--box"

            .products_new-product_explanation__select
              .products_new-product__headline
                .products_new-product__headline--title 発送までの日数
                .products_new-product__headline--required 必須
              = f.select :detail_date, [["1~2日で発送","1~2日で発送"],["2~3日で発送","2~3日で発送"],["4~7日で発送","4~7日で発送"]], prompt: "選択してください", class: "products_new-product_delivery__shipping_days--box"


            .products_new-product__headline
              .products_new-product__headline--title 販売価格
              .products_new-product__headline--required 必須
            .products_new-product_price--select
              %p.products_new-product_price--yen ¥
              = f.text_field :price, class: "products_new-product_price--box", placeholder:"0"

            .products_new-product__submit
              = f.submit '出品する', class: "products_new-product__submit--btn2"










-# .products_header
-# .products_new-main
-#   .products_new-main__form
    -# .products_new-main__form--product_new
    -#   = form_with model: @production, local: true do |f|
-#         .products_new-newimage
-#           .products_new-product__headline
-#             .products_new-product__headline--title 出品画像
-#             .products_new-product__headline--required 必須
-#           %p.products_new-product__explanation 最大10枚までアップロードできます
          -# .products_new-image
          -#   .products_new-image-box
          -#     - @production.images.each do |image|
          -#       .preview-box
          -#         .upper-box
          -#           = image_tag image.src.url
          -#         .delete-box
          -#           .delete-btn
          -#             %div{"data-index": 0}
          -#             = f.file_field :src, class: "productions_new-js-file"
          -#           .js-remove
          -#             %span 削除
                      
                  
-#               .products_new-content
-#               .products_new-uploader-box
-#                 #image-box.class_products_new-uploader__label
-#                   = f.fields_for :images do |i|
-#                     .sell_upload__box
-#                     %div{"data-index": 0}
-#                       = i.file_field :url, type: 'file', class: 'productions_new-js-file'
                    
-#                       -# = i.file_field :src, class: "productions_new-js-file"
-#                   .js-remove
-#                     %span 削除
      
        -# .post__drop__box__container
        -#   .prev-content

                
        -# .category-wrapper
        -#   = f.label :category_id , class: 'wrapper__label category-wrapper-label', id: "wrapper__label--category" do
        -#     カテゴリー：
        -#     %span.required ※必須
        -#     .category-wrapper-box
        -#       .category-wrapper-select
        -#         .category-wrapper-select__box
        -#           = f.select :parent_name, @category_parent_array, {selected:@production.category.parent.parent.name}, { class: 'category-wrapper__category form-control', id: 'parent_category'}
        -#       .category-wrapper-select#children_wrapper
        -#         .category-wrapper-select__box
        -#           = f.select :child_id, options_for_select(@category_children_array.map{|b| [b.name, b.id, {data:{category: b.id}}]}, {prompt: "指定なし", selected: @production.category.parent.id}),{}, {class: 'category-wrapper__category form-control', id: 'child_category'}
        -#       .category-wrapper-select#grandchildren_wrapper
        -#         .category-wrapper-select__box
        -#           = f.select :category_id, options_for_select(@category_grandchildren_array.map{|b| [b.name, b.id, {data:{category: b.id}}]}, {prompt: "指定なし", selected: @production.category.id}),{}, {class: 'category-wrapper__category form-control', id: 'grandchild_category'}

        -# .products_new-product_explanation__select
        -#   .products_new-product__headline
        -#     .products_new-product__headline--title 商品のサイズ
        -#     .products_new-product__headline--required 必須
        -#   = f.select :size, [["XS"],["S"],["M"],["L"],["XL"],["2XL"]], prompt: "選択してください", class: "products_new-product_explanation__condition--box"

        -# .products_new-product_explanation__select
        -#   .products_new-product__headline
        -#     .products_new-product__headline--title 商品の状態
        -#     .products_new-product__headline--required 必須
        -#   = f.select :trading_status, [["新品、未使用"],["未使用に近い"],["目立った傷や汚れなし"],["やや傷や汚れあり"],["汚れや傷あり"],["全体的に状態が悪い"]], prompt: "選択してください", class: "products_new-product_explanation__condition--box"

        -# .products_new-product_delivery
        -#   .products_new-product_delivery__headlinei 配送について
          
        -# .products_new-product_delivery__shipping_area
        -#   .products_new-product__headline
        -#     .products_new-product__headline--title 発送元の地域
        -#     .products_new-product__headline--required 必須
        -#   = f.select :prefecture_code, [["北海道"],["青森"],["岩手県"],["宮城県"],["秋田県"],["山形県"],["福島県"],["茨城県"],["栃木県"],["群馬県"],["埼玉県"],["千葉県"],["東京都"],["神奈川県"],["新潟県"],["富山県"],["石川県"],["福井県"],["山梨県"],["長野県"],["岐阜県"],["静岡県"],["愛知県"],["三重県"],["滋賀県"],["京都府"],["大阪府"],["兵庫県"],["奈良県"],["和歌山県"],["鳥取県"],["島根県"],["岡山県"],["広島県"],["山口県"],["徳島県"],["香川県"],["愛媛県"],["高知県"],["福岡県"],["佐賀県"],["長崎県"],["熊本県"],["大分県"],["宮崎県"],["鹿児島県"],["沖縄県"]], prompt: "選択してください", class: "products_new-product_price--box"

        -# .products_new-product_delivery__fee
        -#   .products_new-product__headline
        -#     .products_new-product__headline--title 配送料の負担
        -#     .products_new-product__headline--required 必須
        -#   = f.select :shipping_charge, [["送料込み(出品者負担)"],["着払い(購入者負担)"]], prompt: "選択してください", class: "products_new-product_delivery__fee--box"

        -# .products_new-product_explanation__select
        -#   .products_new-product__headline
        -#     .products_new-product__headline--title 発送までの日数
        -#     .products_new-product__headline--required 必須
        -#   = f.select :detail_date, [["1~2日で発送","1~2日で発送"],["2~3日で発送","2~3日で発送"],["4~7日で発送","4~7日で発送"]], prompt: "選択してください", class: "products_new-product_delivery__shipping_days--box"


        -# .products_new-product__headline
        -#   .products_new-product__headline--title 販売価格
        -#   .products_new-product__headline--required 必須
        -# .products_new-product_price--select
        -#   %p.products_new-product_price--yen ¥
        -#   = f.text_field :price, class: "products_new-product_price--box", placeholder:"0"

        -# .products_new-product__submit
        -#   = f.submit '出品する', class: "products_new-product__submit--btn"

= render 'footer'